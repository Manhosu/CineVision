{
  "distribution": {
    "CallerReference": "cinevision-distribution-2024",
    "Comment": "CineVision CloudFront Distribution for Video Streaming",
    "DefaultCacheBehavior": {
      "TargetOriginId": "cinevision-s3-origin",
      "ViewerProtocolPolicy": "redirect-to-https",
      "AllowedMethods": {
        "Quantity": 7,
        "Items": ["GET", "HEAD", "OPTIONS", "PUT", "POST", "PATCH", "DELETE"],
        "CachedMethods": {
          "Quantity": 2,
          "Items": ["GET", "HEAD"]
        }
      },
      "ForwardedValues": {
        "QueryString": true,
        "Cookies": {
          "Forward": "none"
        },
        "Headers": {
          "Quantity": 3,
          "Items": ["Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers"]
        }
      },
      "TrustedSigners": {
        "Enabled": false,
        "Quantity": 0
      },
      "MinTTL": 0,
      "DefaultTTL": 86400,
      "MaxTTL": 31536000,
      "Compress": true
    },
    "Origins": {
      "Quantity": 1,
      "Items": [
        {
          "Id": "cinevision-s3-origin",
          "DomainName": "cinevision-videos-prod.s3.us-east-2.amazonaws.com",
          "S3OriginConfig": {
            "OriginAccessIdentity": ""
          },
          "OriginAccessControlId": "TO_BE_CREATED"
        }
      ]
    },
    "Enabled": true,
    "PriceClass": "PriceClass_100"
  },
  "originAccessControl": {
    "Name": "cinevision-oac",
    "Description": "Origin Access Control for CineVision S3 bucket",
    "OriginAccessControlConfig": {
      "Name": "cinevision-oac",
      "Description": "Origin Access Control for CineVision S3 bucket",
      "SigningProtocol": "sigv4",
      "SigningBehavior": "always",
      "OriginAccessControlOriginType": "s3"
    }
  },
  "bucketPolicy": {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Sid": "AllowCloudFrontServicePrincipal",
        "Effect": "Allow",
        "Principal": {
          "Service": "cloudfront.amazonaws.com"
        },
        "Action": "s3:GetObject",
        "Resource": "arn:aws:s3:::cinevision-videos-prod/*",
        "Condition": {
          "StringEquals": {
            "AWS:SourceArn": "arn:aws:cloudfront::ACCOUNT_ID:distribution/DISTRIBUTION_ID"
          }
        }
      }
    ]
  }
}